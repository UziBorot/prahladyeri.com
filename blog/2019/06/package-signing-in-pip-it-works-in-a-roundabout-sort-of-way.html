<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>Package signing in PIP - It works, in a roundabout sort of way</title>
        <link rel="stylesheet" href="https://prahladyeri.com/theme/css/main.css" />
        <link href="https://prahladyeri.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Prahlad Yeri - Freelance Programmer Atom Feed" />
		
	<meta name="twitter:card" content="summary" />
	 <meta name="twitter:site" content="@prahladyeri" />
	 <meta name="twitter:creator" value="@prahladyeri" />
		<meta name="twitter:url" content="https://prahladyeri.com/blog/2019/06/package-signing-in-pip-it-works-in-a-roundabout-sort-of-way.html" />
	 	 <meta name="twitter:title" content="Package signing in PIP - It works, in a roundabout sort of way" />
		<meta name="twitter:description" content="A few days ago, I made this DEV.to post about how Python's PIP lacks GPG package signing. Well, it turns out that I'm wrong! It does have a package signing process after all, only its one of the most manual, archaic and cumbersome security practices I've seen till date â€¦" />		
			<meta name="twitter:image" content="https://prahladyeri.com/uploads/cover.jpg" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://prahladyeri.com/">Prahlad Yeri - Freelance Programmer </a></h1>
                <nav><ul>
				 <!--Start: hard coded-->
				<li ><a href="/">Home</a></li>
				<li  class="active"><a href="/blog/">Blog</a></li>
				<li ><a href="/projects/">Projects</a></li> 
				<li ><a href="/hire-me/">Hire Me</a></li> 
				<!--End: hard coded-->				
                    <!--li><a href="https://prahladyeri.com/">About</a></li-->
                    <!--li><a href="https://prahladyeri.com/projects/">Projects</a></li-->
                    <!--li><a href="https://prahladyeri.com/hire-me/">Hire Me</a></li-->
				<li><a href="https://github.com/prahladyeri/resume">Resume</a></li> <!--hard coded-->
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://prahladyeri.com/blog/2019/06/package-signing-in-pip-it-works-in-a-roundabout-sort-of-way.html" rel="bookmark"
           title="Permalink to Package signing in PIP - It works, in a roundabout sort of way">Package signing in PIP - It works, in a roundabout sort of way</a></h1>
<a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="prahladyeri">Tweet</a><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-06-10T11:58:00+05:30">
                Published: Mon 10 June 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://prahladyeri.com/">Prahlad Yeri</a>
        </address>
<p>In <a href="https://prahladyeri.com/category/python.html">Python</a>.</p>
<p>tags: <a href="https://prahladyeri.com/tag/pip.html">PIP</a> <a href="https://prahladyeri.com/tag/security.html">Security</a> </p>
</footer><!-- /.post-info -->      <p>A few days ago, I made <a href="https://dev.to/prahladyeri/why-doesn-t-the-python-package-manager-pip-have-package-signing-13ll">this DEV.to post</a> about how Python's PIP lacks GPG package signing. Well, it turns out that I'm wrong! It does have a package signing process after all, only its one of the most manual, archaic and cumbersome security practices I've seen till date.<!--more--></p>
<p><img alt="Laptop" src="/uploads/laptop1.jpeg"></p>
<p>I came to know about this when I landed on <a href="https://kushaldas.in/posts/pypi-and-gpg-signed-packages.html">this blog post</a> by a core python developer yesterday. To test package signing in the way described, I created a test package called <a href="https://github.com/prahladyeri/siterank">siterank</a>, a small script to fetch alexa ranking of given websites.</p>
<p>Firstly, its essential that you use only <a href="https://github.com/pypa/twine">twine</a> to upload a signed package to PyPi because only twine has that feature. Secondly, their documentation seems to be outdated because some arguments don't seem to work. For example, the <code>--sign</code> argument for specifying signed files explicitly didn't work for me:</p>
<div class="highlight"><pre><span></span>-s, --sign            Sign files to upload using GPG
</pre></div>


<p>What worked was to upload the package file and the generated signature file (*.asc) in succession like this:</p>
<div class="highlight"><pre><span></span>twine upload siterank-0.2.tar.gz siterank-0.2.tar.gz.asc
</pre></div>


<p>Also note that you'll nowhere see the uploaded signature file on your <a href="https://pypi.org/project/siterank/#files">package page on PyPi</a>. But there are two different ways to verify the signature:</p>
<ol>
<li>Firstly, you can use the <a href="https://pypi.org/pypi/siterank/json">PyPi JSON API</a>. It contains all the uploaded versions in <code>JSON</code> format, notice that in the second package version, the <code>has_sig</code> attribute has been set to true!</li>
<li>The second way is to add the <code>.asc</code> extension to the link to your setup file, in my case it is:
    https://files.pythonhosted.org/packages/16/f9/1dfce544610b9dcbbfcb4095c8e143c6cfd54b4371ccedc3f73df0a99926/siterank-0.2.tar.gz.asc</li>
</ol>
<p>So, someone who wants to verify if this package is indeed authored by me can pull this <code>.asc</code> file and match it with my GPG public key (ID <code>E12979BA15FDE7FD</code> which can be also found by running <code>gpg --search-keys prahladyeri@yahoo.com</code>).</p>
<p>This roundabout way verification is needless to mention, tedious and cumbersome. This process should be seamless and automated, and included in the <code>pip</code> work-flow itself like apt and dnf have done. The only probable issue is that millions of developers upload their packages to PyPi and everyone may not want to (or lack the knowledge of) signing using GPG keys. So, signing could be kept optional (as it is now) but verification option ought to be there for signed packages as it ensures security and integrity of packages.</p>
<p>Another issue is that of adoption. I've noticed from that JSON API that several popular projects like <code>requests</code>, <code>nltk</code>, <code>flask</code>, etc. haven't signed their packages at all. Its important that more and more developers push signed packages and thus contribute in making PyPi a more secure environment to install and distribute packages.</p>
<p>Security and privacy are perhaps one of the most highly discussed topics of our times. There are attempts by all kinds of people and corporations globally to compromise these by hiding as many things from plebeians as possible. In light of this, security and privacy should be given the highest priority in open source projects. I hope the Python project understands these concerns and does something about it.</p>
    </div><!-- /.entry-content -->
	
	<!-- Start: Prahlad -->
	<!--start: adsense-->
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- mainsite_responsive -->
	<ins class="adsbygoogle"
		 style="display:block"
		 data-ad-client="ca-pub-0428291735937735"
		 data-ad-slot="6897031752"
		 data-ad-format="auto"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	<!--end: adsense-->
	<!-- End: Prahlad -->

    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
		<script>
		/**
		*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
		*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
		
		/*var disqus_config = function () {
			this.page.url = 'https://prahladyeri.com/blog/2019/06/package-signing-in-pip-it-works-in-a-roundabout-sort-of-way.html';  // Replace PAGE_URL with your page's canonical URL variable
			this.page.identifier = 'blog/2019/06/package-signing-in-pip-it-works-in-a-roundabout-sort-of-way.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
		};
		(function() { // DON'T EDIT BELOW THIS LINE
		var d = document, s = d.createElement('script');
		s.src = 'https://prahladyeri-blog.disqus.com/embed.js';
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
		})();*/
		</script>	  
	  
      <script type="text/javascript">
        var disqus_shortname = 'prahladyeri-blog';
        var disqus_identifier = 'blog/2019/06/package-signing-in-pip-it-works-in-a-roundabout-sort-of-way.html';
        var disqus_url = 'https://prahladyeri.com/blog/2019/06/package-signing-in-pip-it-works-in-a-roundabout-sort-of-way.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//prahladyeri-blog.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="mailto:prahladyeri@yahoo.com">Email</a></li>
                            <li><a href="https://github.com/prahladyeri/">Github</a></li>
                            <li><a href="https://stackoverflow.com/users/849365/prahlad-yeri/">StackOverflow</a></li>
                            <li><a href="https://www.quora.com/profile/Prahlad-Yeri">Quora</a></li>
                            <li><a href="https://mastodon.social/@prahladyeri">Mastodon.Social</a></li>
                            <li><a href="https://www.blogger.com/profile/12769325975373447545">Blogger</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://prahladyeri.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://www.linkedin.com/in/prahlad-yeri-243a5316">Linkedin</a></li>
                            <li><a href="https://www.facebook.com/prahladyeri14">Facebook</a></li>
                            <li><a href="https://twitter.com/prahladyeri">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Copyright (c) 2013-2019 <a href="/">Prahlad Yeri</a>.
				<br>
				This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-6808883-5', 'auto');
    ga('send', 'pageview');
    </script>
<script type="text/javascript">
    var disqus_shortname = 'prahladyeri-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>