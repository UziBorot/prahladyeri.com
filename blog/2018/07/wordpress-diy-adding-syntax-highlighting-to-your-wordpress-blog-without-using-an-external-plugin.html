<!DOCTYPE html>
<html lang="english">
<head>
        <meta charset="utf-8" />
        <title>WordPress DIY: Adding Syntax Highlighting to your WordPress Blog Without using an External Plugin</title>
        <link rel="stylesheet" href="../../../theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Prahlad Yeri - Freelance Programmer Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../../../">Prahlad Yeri - Freelance Programmer </a></h1>
                <nav><ul>
				<li><a href="/">Home</a></li> <!--hard coded-->
                    <li><a href="../../../about">About</a></li>
                    <li><a href="../../../projects">Projects</a></li>
                    <li><a href="../../../hire-me">Hire Me</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="../../../blog/2018/07/wordpress-diy-adding-syntax-highlighting-to-your-wordpress-blog-without-using-an-external-plugin.html" rel="bookmark"
           title="Permalink to WordPress DIY: Adding Syntax Highlighting to your WordPress Blog Without using an External Plugin">WordPress DIY: Adding Syntax Highlighting to your WordPress Blog Without using an External Plugin</a></h1>
<a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="prahladyeri">Tweet</a><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-07-10T12:47:00+05:30">
                Published: Tue 10 July 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../../../author/prahlad-yeri.html">Prahlad Yeri</a>
        </address>
<p>In <a href="../../../category/php.html">PHP</a>.</p>
<p>tags: <a href="../../../tag/diy.html">DIY</a> <a href="../../../tag/php.html">PHP</a> <a href="../../../tag/wordpress.html">Wordpress</a> </p>
</footer><!-- /.post-info -->      <p>Just as my other articles in <a href="https://prahladyeri.com/blog/tag/wordpress+diy">WordPress DIY</a> series, this one also focuses on doing everything yourself by writing the code rather than using any external dependencies. There are two popular open source implementations of Syntax Highlighting JavaScript libraries: <a href="https://github.com/google/code-prettify">Google's Prettify</a> and <a href="http://alexgorbatchev.com/SyntaxHighlighter/">Alex Gorbatchev's Syntax Highlighter</a>, and in this article, we will use the former.<!--more--> Writing your own plugin for syntax highlighting is very straightforward if you know what you are doing. Just create a file named <strong>/wp-content/plugins/wp-prettify.php</strong> in your WordPress installation and add the below code to it:</p>
<div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="cm">/**</span>
<span class="cm"> * @package WP Prettify</span>
<span class="cm"> * @version 0.1.0</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm">Plugin Name: WP Prettify</span>
<span class="cm">Plugin URI: http://github.com/prahladyeri/wp-prettify</span>
<span class="cm">Description: Wordpress implementation of Google Prettify Syntax Highlighter</span>
<span class="cm">Author: Prahlad Yeri</span>
<span class="cm">Author URI: https://www.prahladyeri.com/</span>
<span class="cm">Version: 0.1.0</span>
<span class="cm">License: GPL version 2 or later - http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</span>
<span class="cm">*/</span>


<span class="kd">function</span> <span class="nx">add_syntax_highlighter() {</span>
<span class="nx">$text</span><span class="o">=&lt;&lt;&lt;</span><span class="nx">EOD</span>
<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;pre&#39;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;prettyprint&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span>   <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">+</span> <span class="s2">&quot; prettyprint &quot;</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;adding&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;class already exists&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
<span class="o">&lt;</span><span class="nx">style</span><span class="o">&gt;</span>
<span class="nx">pre</span><span class="p">.</span><span class="nx">prettyprint</span><span class="p">.</span><span class="nx">prettyprinted</span> <span class="p">{</span>
  <span class="nx">border</span>: <span class="kt">0px</span><span class="p">;</span>
  <span class="nx">padding</span>: <span class="kt">5px</span><span class="p">;</span>
  <span class="nx">font</span><span class="o">-</span><span class="nx">size</span>: <span class="kt">15px</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/style&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
<span class="nx">EOD</span><span class="p">;</span>

    <span class="nx">echo</span> <span class="nx">$text</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">add_action</span><span class="p">(</span><span class="s1">&#39;wp_head&#39;</span><span class="p">,</span> <span class="s1">&#39;add_syntax_highlighter&#39;</span><span class="p">);</span>
<span class="o">?&gt;</span>
</pre></div>


<p>Remember to enable the plugin by navigating to <strong>/wp-admin</strong> before using it.</p>
<p>This function first adds a <strong>prettyprint</strong> class to all your \&lt;pre> tags to tell the Prettify library to highlight this block and thus making syntax highlighting painless on your part. The advantage of using Google's solution is that it automatically detects the programming or scripting language inside the block, and you don't have to use additional tag markup like <strong>"lang=php"</strong> or something like that.</p>
<p>The addition of CSS <strong>\&lt;style></strong> tag in the function is optional and not really needed. Its just my preference to hide the border and increase the padding and font size a bit.</p>
<p>The demonstration of this self-written plugin is quite evident as this very site runs on this plugin and the above code block is highlighted using the Google's Prettify library. If you can use the Chrome or Firefox Developer tools to analyze that \&lt;pre> block, it will show you that a <strong>prettyprint</strong> class has been added!</p>
<p>So, go ahead and write this plugin if you are building a WordPress blog for yourself and want to do this in a DIY way. And let us know how it goes in comments below!</p>
    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'https://prahladyeri-blog.disqus.com';
        var disqus_identifier = 'blog/2018/07/wordpress-diy-adding-syntax-highlighting-to-your-wordpress-blog-without-using-an-external-plugin.html';
        var disqus_url = '../../../blog/2018/07/wordpress-diy-adding-syntax-highlighting-to-your-wordpress-blog-without-using-an-external-plugin.html';
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//https://prahladyeri-blog.disqus.com.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="mailto:prahladyeri@yahoo.com">Email</a></li>
                            <li><a href="https://github.com/prahladyeri/">Github</a></li>
                            <li><a href="https://stackoverflow.com/users/849365/prahlad-yeri/">StackOverflow</a></li>
                            <li><a href="https://www.quora.com/profile/Prahlad-Yeri-%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A4%B9%E0%A5%8D%E0%A4%B2%E0%A4%BE%E0%A4%A6-%E0%A4%AF%E0%A5%87%E0%A4%B0%E0%A5%80">Quora</a></li>
                            <li><a href="https://mastodon.social/@prahladyeri">Mastodon.Social</a></li>
                            <li><a href="https://www.blogger.com/profile/12769325975373447545">Blogger</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://www.linkedin.com/in/prahlad-yeri-243a5316">Linkedin</a></li>
                            <li><a href="https://www.facebook.com/prahladyeri14">Facebook</a></li>
                            <li><a href="https://twitter.com/prahladyeri">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Copyright (c) 2013-2019 <a href="/">Prahlad Yeri</a>.
				<br>
				This work is licensed under a [Creative Commons Attribution 4.0 International License](http://creativecommons.org/licenses/by/4.0/).
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'https://prahladyeri-blog.disqus.com';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>